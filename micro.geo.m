clc
clear 
format long g;
%---------------------
syms x4 y4 x5 y5 x6 y6 x1 y1 x2 y2 x3 y3;
x7=100;
y7=100;
%---------------------
l=[41.233;
    50.028;
    40.046;
    60.019;
    18.012;
    18.055;
    25.34;
    28.287;
    91;
    89.2;
    90.5;
    89.3;
    50.2;
    79.5;
    50.3;
    45;];
%---------------------
F=[((x4-x7)^2+(y4-y7)^2)^(1/2);
((x5-x4)^2+(y5-y4)^2)^(1/2);
((x5-x6)^2+(y5-y6)^2)^(1/2);
((x7-x6)^2+(y7-y6)^2)^(1/2);
((x2-x1)^2+(y2-y1)^2)^(1/2);
((x3-x2)^2+(y3-y2)^2)^(1/2);
((x3-x1)^2+(y3-y1)^2)^(1/2);
((x1-x7)^2+(y1-y7)^2)^(1/2);
atan((x4-x7)/(y4-y7));
atan((x5-x4)/(y5-y4));
atan((x6-x5)/(y6-y5));
atan((x7-x6)/(y7-y6));
atan((x2-x1)/(y2-y1));
atan((x3-x2)/(y3-y2));
atan((x1-x3)/(y1-y3));
atan((x7-x1)/(y7-y1));];
%---------------------
A=jacobian(F,[ x4 y4 x5 y5 x6 y6 x1 y1 x2 y2 x3 y3]);
%---------------------
x4=4;
y4=41.233;
x5=60.019;
y5=41.250;
x6=60.019;
y6=0;
x1=20;
y1=20;
x2=31.57;
y2=33.78;
x3=45.34;
y3=22;


dx1=0;
for i=1:3
l0=eval(F);
dl=l-l0;
a=eval(A);
dx1=inv(a'*a)*a'*dl;
pause(.1)
  if abs(dx1)<0.001
     break
  end
   x4=x4+dx1(1);
   y4=y4+dx1(2);
    x5=x5+dx1(3);
   y5=y5+dx1(4);
    x6=x6+dx1(5);
   y6=y6+dx1(6);
   x1=x1+dx1(7);
   y1=y1+dx1(8);
   x2=x2+dx1(9);
   y2=y2+dx1(10);
    x3=x3+dx1(11);
   y3=y3+dx1(12);
   i=i+1;
  end 
  

  
  
  






